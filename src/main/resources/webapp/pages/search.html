<html>
    <head>
        <link rel="import" href="/webapp/include/frameworks.html">
        <link rel="stylesheet" href="/webapp/css/main.css">
        <script type="text/javascript">
            function loadComponents() {
                $("#header").load("../include/header.html");
            }
            window.onload = loadComponents;

            function searchProducts () {
               var categoryVal = parseInt($("#category").val());
               var searchQueryVal = $("#searchQuery").val();

               var requestData = {searchQuery: searchQueryVal};

               if(categoryVal != 1) {
                    requestData.category = categoryVal;
               }

               $.ajax({
                  url: "/getFilteredProducts",
                  data: requestData,
                  success: function (data) {

                  }
                });

            }
        </script>
    </head>
    <body>
        <div class="container">
            <div id="header">
            </div>
            <div class="jumbotron">
                <h1 class="display-3">Informe os filtros da sua procura:</h1>
                <form>
                    <div class="form-group">
                        <label for="searchQuery">Procurar por um texto:</label>
                        <input class="form-control" type="text" id="searchQuery" placeholder="Insira um texto"/>
                    </div>
                    <div class="form-group">
                        <label for="category">Escolha uma categoria:</label>
                        <select class="form-control" id="category">
                            <option value="1">Todas</option>
                            <option value="2">Brinquedos e Hobbies</option>
                            <option value="3">Cozinha</option>
                            <option value="4">Decora&ccedil&atildeo</option>
                            <option value="5">Eletrodom&eacutesticos</option>
                            <option value="6">Eletr&ocircnicos</option>
                            <option value="7">Esportes</option>
                            <option value="8">Inform&aacutetica</option>
                            <option value="9">Joias e Rel&oacutegios</option>
                            <option value="10">Literatura</option>
                            <option value="11">Materiais Escolares</option>
                            <option value="12">M&oacuteveis</option>
                            <option value="13">Quarto</option>
                            <option value="14">Vestu&aacuterio</option>
                            <option value="15">Outros</option>
                        </select>
                    </div>
                </form>
                <button onclick="searchProducts();" class="btn btn-success btn-lg">Procurar</button>
            </div>
            <div hidden id="searchResults">
                <h1>Resultados:</h1>
            </div>
        </div>
    </body>
</html>